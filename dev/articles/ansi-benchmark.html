<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="cli">
<title>ANSI function benchmarks • cli</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.1.3/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.1.3/bootstrap.bundle.min.js"></script><link href="../deps/Source_Sans_Pro-0.4.2/font.css" rel="stylesheet">
<link href="../deps/Source_Code_Pro-0.4.2/font.css" rel="stylesheet">
<!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="ANSI function benchmarks">
<meta property="og:description" content="cli">
<meta name="robots" content="noindex">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><script defer data-domain="cli.r-lib.org,all.tidyverse.org" src="https://plausible.io/js/plausible.js"></script>
</head>
<body>
    <a href="#container" class="visually-hidden-focusable">Skip to content</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-none"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">cli</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="In-development version">3.4.1.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../reference/faq.html">FAQ</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/semantic-cli.html">Building a Semantic CLI</a>
    <a class="dropdown-item" href="../articles/usethis-ui.html">From usethis::ui functions to cli</a>
    <a class="dropdown-item" href="../articles/pluralization.html">cli pluralization</a>
    <div class="dropdown-divider"></div>
    <h6 class="dropdown-header" data-toc-skip>Progress bars</h6>
    <a class="dropdown-item" href="../articles/progress.html">Introduction to progress bars in cli</a>
    <a class="dropdown-item" href="../articles/progress-advanced.html">Advanced cli progress bars</a>
    <div class="dropdown-divider"></div>
    <h6 class="dropdown-header" data-toc-skip>Customization</h6>
    <a class="dropdown-item" href="../articles/palettes.html">cli color palettes</a>
    <div class="dropdown-divider"></div>
    <a class="dropdown-item" href="../articles/index.html">More articles...</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/r-lib/cli/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article" id="container">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>ANSI function benchmarks</h1>
                        <h4 data-toc-skip class="author">Gábor Csárdi</h4>
            
            <h4 data-toc-skip class="date">2022-10-08</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/r-lib/cli/blob/HEAD/vignettes/ansi-benchmark.Rmd" class="external-link"><code>vignettes/ansi-benchmark.Rmd</code></a></small>
      <div class="d-none name"><code>ansi-benchmark.Rmd</code></div>
    </div>

    
    
<style type="text/css" scoped>
PRE.fansi SPAN {padding-top: .25em; padding-bottom: .25em};
</style>
<p>$output function (x, options) { hook.t(x, options[[paste0(“attr.”, class)]], options[[paste0(“class.”, class)]]) } &lt;bytecode: 0x5634431054e8&gt; &lt;environment: 0x5634438b49a0&gt;</p>
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>Often we can use the corresponding base R function as a baseline. We also compare to the fansi package, where it is possible.</p>
</div>
<div class="section level2">
<h2 id="data">Data<a class="anchor" aria-label="anchor" href="#data"></a>
</h2>
<p>In cli the typical use case is short string scalars, but we run some benchmarks longer strings and string vectors as well.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://cli.r-lib.org">cli</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/brodieG/fansi" class="external-link">fansi</a></span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">options</a></span><span class="op">(</span>cli.unicode <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">options</a></span><span class="op">(</span>cli.num_colors <span class="op">=</span> <span class="fl">256</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ansi</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/format_inline.html">format_inline</a></span><span class="op">(</span></span>
<span>  <span class="st">"{col_green(symbol$tick)} {.code print(x)} {.emph emphasised}"</span></span>
<span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">plain</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/ansi_strip.html">ansi_strip</a></span><span class="op">(</span><span class="va">ansi</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">vec_plain</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="va">plain</span>, <span class="fl">100</span><span class="op">)</span></span>
<span><span class="va">vec_ansi</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="va">ansi</span>, <span class="fl">100</span><span class="op">)</span></span>
<span><span class="va">vec_plain6</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="va">plain</span>, <span class="fl">6</span><span class="op">)</span></span>
<span><span class="va">vec_ansi6</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="va">plain</span>, <span class="fl">6</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">txt_plain</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="va">vec_plain</span>, collapse <span class="op">=</span> <span class="st">" "</span><span class="op">)</span></span>
<span><span class="va">txt_ansi</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="va">vec_ansi</span>, collapse <span class="op">=</span> <span class="st">" "</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">uni</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span></span>
<span>  <span class="st">"\U0001f477\u200d\u2640\ufe0f"</span>,</span>
<span>  <span class="st">"\U0001f477\U0001f3fb"</span>,</span>
<span>  <span class="st">"\U0001f477\u200d\u2640\ufe0f"</span>,</span>
<span>  <span class="st">"\U0001f477\U0001f3fb"</span>,</span>
<span>  <span class="st">"\U0001f477\U0001f3ff\u200d\u2640\ufe0f"</span></span>
<span><span class="op">)</span></span>
<span><span class="va">vec_uni</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="va">uni</span>, <span class="fl">100</span><span class="op">)</span></span>
<span><span class="va">txt_uni</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="va">vec_uni</span>, collapse <span class="op">=</span> <span class="st">" "</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="ansi-functions">ANSI functions<a class="anchor" aria-label="anchor" href="#ansi-functions"></a>
</h2>
<div class="section level3">
<h3 id="ansi_align">
<code>ansi_align()</code><a class="anchor" aria-label="anchor" href="#ansi_align"></a>
</h3>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">bench</span><span class="fu">::</span><span class="fu"><a href="http://bench.r-lib.org/reference/mark.html" class="external-link">mark</a></span><span class="op">(</span></span>
<span>  ansi  <span class="op">=</span> <span class="fu"><a href="../reference/ansi_align.html">ansi_align</a></span><span class="op">(</span><span class="va">ansi</span>, width <span class="op">=</span> <span class="fl">20</span><span class="op">)</span>,</span>
<span>  plain <span class="op">=</span> <span class="fu"><a href="../reference/ansi_align.html">ansi_align</a></span><span class="op">(</span><span class="va">plain</span>, width <span class="op">=</span> <span class="fl">20</span><span class="op">)</span>, </span>
<span>  base  <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/format.html" class="external-link">format</a></span><span class="op">(</span><span class="va">plain</span>, width <span class="op">=</span> <span class="fl">20</span><span class="op">)</span>,</span>
<span>  check <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
<pre class="fansi fansi-output"><code><span><span class="co">#&gt; # A tibble: 3 × 6</span></span>
<span><span class="co">#&gt;   expression      min   median `itr/sec` mem_alloc `gc/sec`</span></span>
<span><span class="co">#&gt;   &lt;bch:expr&gt; &lt;bch:tm&gt; &lt;bch:tm&gt;     &lt;dbl&gt; &lt;bch:byt&gt;    &lt;dbl&gt;</span></span>
<span><span class="co">#&gt; 1 ansi         51.5µs   54.7µs    18146.    79.1KB     16.7</span></span>
<span><span class="co">#&gt; 2 plain        51.1µs   54.3µs    18268.        0B     21.5</span></span>
<span><span class="co">#&gt; 3 base         14.3µs   15.3µs    64461.    48.4KB     12.9</span></span></code></pre>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">bench</span><span class="fu">::</span><span class="fu"><a href="http://bench.r-lib.org/reference/mark.html" class="external-link">mark</a></span><span class="op">(</span></span>
<span>  ansi  <span class="op">=</span> <span class="fu"><a href="../reference/ansi_align.html">ansi_align</a></span><span class="op">(</span><span class="va">ansi</span>, width <span class="op">=</span> <span class="fl">20</span>, align <span class="op">=</span> <span class="st">"right"</span><span class="op">)</span>,</span>
<span>  plain <span class="op">=</span> <span class="fu"><a href="../reference/ansi_align.html">ansi_align</a></span><span class="op">(</span><span class="va">plain</span>, width <span class="op">=</span> <span class="fl">20</span>, align <span class="op">=</span> <span class="st">"right"</span><span class="op">)</span>, </span>
<span>  base  <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/format.html" class="external-link">format</a></span><span class="op">(</span><span class="va">plain</span>, width <span class="op">=</span> <span class="fl">20</span>, justify <span class="op">=</span> <span class="st">"right"</span><span class="op">)</span>,</span>
<span>  check <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
<pre class="fansi fansi-output"><code><span><span class="co">#&gt; # A tibble: 3 × 6</span></span>
<span><span class="co">#&gt;   expression      min   median `itr/sec` mem_alloc `gc/sec`</span></span>
<span><span class="co">#&gt;   &lt;bch:expr&gt; &lt;bch:tm&gt; &lt;bch:tm&gt;     &lt;dbl&gt; &lt;bch:byt&gt;    &lt;dbl&gt;</span></span>
<span><span class="co">#&gt; 1 ansi         53.4µs   56.6µs    17518.        0B     21.1</span></span>
<span><span class="co">#&gt; 2 plain        53.1µs   56.3µs    17565.        0B     23.5</span></span>
<span><span class="co">#&gt; 3 base         16.4µs   17.5µs    56357.        0B     16.9</span></span></code></pre>
</div>
<div class="section level3">
<h3 id="ansi_chartr">
<code>ansi_chartr()</code><a class="anchor" aria-label="anchor" href="#ansi_chartr"></a>
</h3>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">bench</span><span class="fu">::</span><span class="fu"><a href="http://bench.r-lib.org/reference/mark.html" class="external-link">mark</a></span><span class="op">(</span></span>
<span>  ansi  <span class="op">=</span> <span class="fu"><a href="../reference/ansi_toupper.html">ansi_chartr</a></span><span class="op">(</span><span class="st">"abc"</span>, <span class="st">"XYZ"</span>, <span class="va">ansi</span><span class="op">)</span>,</span>
<span>  plain <span class="op">=</span> <span class="fu"><a href="../reference/ansi_toupper.html">ansi_chartr</a></span><span class="op">(</span><span class="st">"abc"</span>, <span class="st">"XYZ"</span>, <span class="va">plain</span><span class="op">)</span>,</span>
<span>  base  <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/chartr.html" class="external-link">chartr</a></span><span class="op">(</span><span class="st">"abc"</span>, <span class="st">"XYZ"</span>, <span class="va">plain</span><span class="op">)</span>,</span>
<span>  check <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
<pre class="fansi fansi-output"><code><span><span class="co">#&gt; # A tibble: 3 × 6</span></span>
<span><span class="co">#&gt;   expression      min   median `itr/sec` mem_alloc `gc/sec`</span></span>
<span><span class="co">#&gt;   &lt;bch:expr&gt; &lt;bch:tm&gt; &lt;bch:tm&gt;     &lt;dbl&gt; &lt;bch:byt&gt;    &lt;dbl&gt;</span></span>
<span><span class="co">#&gt; 1 ansi        127.9µs    135µs     7317.   75.12KB     14.6</span></span>
<span><span class="co">#&gt; 2 plain       100.4µs  105.4µs     9400.    8.73KB     14.6</span></span>
<span><span class="co">#&gt; 3 base          2.5µs    2.7µs   363495.        0B      0</span></span></code></pre>
</div>
<div class="section level3">
<h3 id="ansi_columns">
<code>ansi_columns()</code><a class="anchor" aria-label="anchor" href="#ansi_columns"></a>
</h3>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">bench</span><span class="fu">::</span><span class="fu"><a href="http://bench.r-lib.org/reference/mark.html" class="external-link">mark</a></span><span class="op">(</span></span>
<span>  ansi  <span class="op">=</span> <span class="fu"><a href="../reference/ansi_columns.html">ansi_columns</a></span><span class="op">(</span><span class="va">vec_ansi6</span>, width <span class="op">=</span> <span class="fl">120</span><span class="op">)</span>,</span>
<span>  plain <span class="op">=</span> <span class="fu"><a href="../reference/ansi_columns.html">ansi_columns</a></span><span class="op">(</span><span class="va">vec_plain6</span>, width <span class="op">=</span> <span class="fl">120</span><span class="op">)</span>,</span>
<span>  check <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
<pre class="fansi fansi-output"><code><span><span class="co">#&gt; # A tibble: 2 × 6</span></span>
<span><span class="co">#&gt;   expression      min   median `itr/sec` mem_alloc `gc/sec`</span></span>
<span><span class="co">#&gt;   &lt;bch:expr&gt; &lt;bch:tm&gt; &lt;bch:tm&gt;     &lt;dbl&gt; &lt;bch:byt&gt;    &lt;dbl&gt;</span></span>
<span><span class="co">#&gt; 1 ansi          380µs    397µs     2500.   33.21KB     19.0</span></span>
<span><span class="co">#&gt; 2 plain         379µs    397µs     2501.    1.09KB     19.1</span></span></code></pre>
</div>
<div class="section level3">
<h3 id="ansi_has_any">
<code>ansi_has_any()</code><a class="anchor" aria-label="anchor" href="#ansi_has_any"></a>
</h3>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">bench</span><span class="fu">::</span><span class="fu"><a href="http://bench.r-lib.org/reference/mark.html" class="external-link">mark</a></span><span class="op">(</span></span>
<span>  cli_ansi        <span class="op">=</span> <span class="fu"><a href="../reference/ansi_has_any.html">ansi_has_any</a></span><span class="op">(</span><span class="va">ansi</span><span class="op">)</span>,</span>
<span>  fansi_ansi      <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/fansi/man/has_sgr.html" class="external-link">has_sgr</a></span><span class="op">(</span><span class="va">ansi</span><span class="op">)</span>,</span>
<span>  cli_plain       <span class="op">=</span> <span class="fu"><a href="../reference/ansi_has_any.html">ansi_has_any</a></span><span class="op">(</span><span class="va">plain</span><span class="op">)</span>,</span>
<span>  fansi_plain     <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/fansi/man/has_sgr.html" class="external-link">has_sgr</a></span><span class="op">(</span><span class="va">plain</span><span class="op">)</span>,</span>
<span>  cli_vec_ansi    <span class="op">=</span> <span class="fu"><a href="../reference/ansi_has_any.html">ansi_has_any</a></span><span class="op">(</span><span class="va">vec_ansi</span><span class="op">)</span>,</span>
<span>  fansi_vec_ansi  <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/fansi/man/has_sgr.html" class="external-link">has_sgr</a></span><span class="op">(</span><span class="va">vec_ansi</span><span class="op">)</span>,</span>
<span>  cli_vec_plain   <span class="op">=</span> <span class="fu"><a href="../reference/ansi_has_any.html">ansi_has_any</a></span><span class="op">(</span><span class="va">vec_plain</span><span class="op">)</span>,</span>
<span>  fansi_vec_plain <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/fansi/man/has_sgr.html" class="external-link">has_sgr</a></span><span class="op">(</span><span class="va">vec_plain</span><span class="op">)</span>,</span>
<span>  cli_txt_ansi    <span class="op">=</span> <span class="fu"><a href="../reference/ansi_has_any.html">ansi_has_any</a></span><span class="op">(</span><span class="va">txt_ansi</span><span class="op">)</span>,</span>
<span>  fansi_txt_ansi  <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/fansi/man/has_sgr.html" class="external-link">has_sgr</a></span><span class="op">(</span><span class="va">txt_ansi</span><span class="op">)</span>,</span>
<span>  cli_txt_plain   <span class="op">=</span> <span class="fu"><a href="../reference/ansi_has_any.html">ansi_has_any</a></span><span class="op">(</span><span class="va">txt_plain</span><span class="op">)</span>,</span>
<span>  fansi_txt_plain <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/fansi/man/has_sgr.html" class="external-link">has_sgr</a></span><span class="op">(</span><span class="va">vec_plain</span><span class="op">)</span>,</span>
<span>  check <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
<pre class="fansi fansi-output"><code><span><span class="co">#&gt; # A tibble: 12 × 6</span></span>
<span><span class="co">#&gt;    expression           min   median `itr/sec` mem_alloc `gc/sec`</span></span>
<span><span class="co">#&gt;    &lt;bch:expr&gt;      &lt;bch:tm&gt; &lt;bch:tm&gt;     &lt;dbl&gt; &lt;bch:byt&gt;    &lt;dbl&gt;</span></span>
<span><span class="co">#&gt;  1 cli_ansi           6.9µs    7.6µs   128305.    8.03KB     25.7</span></span>
<span><span class="co">#&gt;  2 fansi_ansi        35.9µs   38.4µs    25712.    4.18KB     23.2</span></span>
<span><span class="co">#&gt;  3 cli_plain          6.9µs    7.7µs   128189.        0B     25.6</span></span>
<span><span class="co">#&gt;  4 fansi_plain       35.8µs   37.1µs    26445.      688B     23.8</span></span>
<span><span class="co">#&gt;  5 cli_vec_ansi       8.5µs      9µs   109935.      448B     22.0</span></span>
<span><span class="co">#&gt;  6 fansi_vec_ansi    47.8µs   49.2µs    20131.    5.02KB     19.0</span></span>
<span><span class="co">#&gt;  7 cli_vec_plain      9.1µs    9.6µs   102934.      448B     10.3</span></span>
<span><span class="co">#&gt;  8 fansi_vec_plain   46.2µs   47.6µs    20742.    5.02KB     19.1</span></span>
<span><span class="co">#&gt;  9 cli_txt_ansi       6.9µs    7.2µs   135215.        0B     27.0</span></span>
<span><span class="co">#&gt; 10 fansi_txt_ansi    35.6µs     37µs    26685.      688B     24.0</span></span>
<span><span class="co">#&gt; 11 cli_txt_plain        8µs    8.3µs   118167.        0B     23.6</span></span>
<span><span class="co">#&gt; 12 fansi_txt_plain   46.1µs   47.9µs    20634.    5.02KB     19.1</span></span></code></pre>
</div>
<div class="section level3">
<h3 id="ansi_html">
<code>ansi_html()</code><a class="anchor" aria-label="anchor" href="#ansi_html"></a>
</h3>
<p>This is typically used with longer text.</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">bench</span><span class="fu">::</span><span class="fu"><a href="http://bench.r-lib.org/reference/mark.html" class="external-link">mark</a></span><span class="op">(</span></span>
<span>  cli   <span class="op">=</span> <span class="fu"><a href="../reference/ansi_html.html">ansi_html</a></span><span class="op">(</span><span class="va">txt_ansi</span><span class="op">)</span>,</span>
<span>  fansi <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/fansi/man/sgr_to_html.html" class="external-link">sgr_to_html</a></span><span class="op">(</span><span class="va">txt_ansi</span>, classes <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>,</span>
<span>  check <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
<pre class="fansi fansi-output"><code><span><span class="co">#&gt; # A tibble: 2 × 6</span></span>
<span><span class="co">#&gt;   expression      min   median `itr/sec` mem_alloc `gc/sec`</span></span>
<span><span class="co">#&gt;   &lt;bch:expr&gt; &lt;bch:tm&gt; &lt;bch:tm&gt;     &lt;dbl&gt; &lt;bch:byt&gt;    &lt;dbl&gt;</span></span>
<span><span class="co">#&gt; 1 cli          87.2µs   89.7µs    10982.      22KB     6.11</span></span>
<span><span class="co">#&gt; 2 fansi       153.1µs  155.8µs     6361.    55.4KB     8.20</span></span></code></pre>
</div>
<div class="section level3">
<h3 id="ansi_nchar">
<code>ansi_nchar()</code><a class="anchor" aria-label="anchor" href="#ansi_nchar"></a>
</h3>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">bench</span><span class="fu">::</span><span class="fu"><a href="http://bench.r-lib.org/reference/mark.html" class="external-link">mark</a></span><span class="op">(</span></span>
<span>  cli_ansi        <span class="op">=</span> <span class="fu"><a href="../reference/ansi_nchar.html">ansi_nchar</a></span><span class="op">(</span><span class="va">ansi</span><span class="op">)</span>,</span>
<span>  fansi_ansi      <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/fansi/man/nchar_sgr.html" class="external-link">nchar_sgr</a></span><span class="op">(</span><span class="va">ansi</span><span class="op">)</span>,</span>
<span>  base_ansi       <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/nchar.html" class="external-link">nchar</a></span><span class="op">(</span><span class="va">ansi</span><span class="op">)</span>,</span>
<span>  cli_plain       <span class="op">=</span> <span class="fu"><a href="../reference/ansi_nchar.html">ansi_nchar</a></span><span class="op">(</span><span class="va">plain</span><span class="op">)</span>,</span>
<span>  fansi_plain     <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/fansi/man/nchar_sgr.html" class="external-link">nchar_sgr</a></span><span class="op">(</span><span class="va">plain</span><span class="op">)</span>,</span>
<span>  base_plain      <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/nchar.html" class="external-link">nchar</a></span><span class="op">(</span><span class="va">plain</span><span class="op">)</span>,</span>
<span>  cli_vec_ansi    <span class="op">=</span> <span class="fu"><a href="../reference/ansi_nchar.html">ansi_nchar</a></span><span class="op">(</span><span class="va">vec_ansi</span><span class="op">)</span>,</span>
<span>  fansi_vec_ansi  <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/fansi/man/nchar_sgr.html" class="external-link">nchar_sgr</a></span><span class="op">(</span><span class="va">vec_ansi</span><span class="op">)</span>,</span>
<span>  base_vec_ansi   <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/nchar.html" class="external-link">nchar</a></span><span class="op">(</span><span class="va">vec_ansi</span><span class="op">)</span>,</span>
<span>  cli_vec_plain   <span class="op">=</span> <span class="fu"><a href="../reference/ansi_nchar.html">ansi_nchar</a></span><span class="op">(</span><span class="va">vec_plain</span><span class="op">)</span>,</span>
<span>  fansi_vec_plain <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/fansi/man/nchar_sgr.html" class="external-link">nchar_sgr</a></span><span class="op">(</span><span class="va">vec_plain</span><span class="op">)</span>,</span>
<span>  base_vec_plain  <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/nchar.html" class="external-link">nchar</a></span><span class="op">(</span><span class="va">vec_plain</span><span class="op">)</span>,</span>
<span>  cli_txt_ansi    <span class="op">=</span> <span class="fu"><a href="../reference/ansi_nchar.html">ansi_nchar</a></span><span class="op">(</span><span class="va">txt_ansi</span><span class="op">)</span>,</span>
<span>  fansi_txt_ansi  <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/fansi/man/nchar_sgr.html" class="external-link">nchar_sgr</a></span><span class="op">(</span><span class="va">txt_ansi</span><span class="op">)</span>,</span>
<span>  base_txt_ansi   <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/nchar.html" class="external-link">nchar</a></span><span class="op">(</span><span class="va">txt_ansi</span><span class="op">)</span>,</span>
<span>  cli_txt_plain   <span class="op">=</span> <span class="fu"><a href="../reference/ansi_nchar.html">ansi_nchar</a></span><span class="op">(</span><span class="va">txt_plain</span><span class="op">)</span>,</span>
<span>  fansi_txt_plain <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/fansi/man/nchar_sgr.html" class="external-link">nchar_sgr</a></span><span class="op">(</span><span class="va">txt_plain</span><span class="op">)</span>,</span>
<span>  base_txt_plain  <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/nchar.html" class="external-link">nchar</a></span><span class="op">(</span><span class="va">txt_plain</span><span class="op">)</span>,</span>
<span>  check <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
<pre class="fansi fansi-output"><code><span><span class="co">#&gt; # A tibble: 18 × 6</span></span>
<span><span class="co">#&gt;    expression           min   median `itr/sec` mem_alloc `gc/sec`</span></span>
<span><span class="co">#&gt;    &lt;bch:expr&gt;      &lt;bch:tm&gt; &lt;bch:tm&gt;     &lt;dbl&gt; &lt;bch:byt&gt;    &lt;dbl&gt;</span></span>
<span><span class="co">#&gt;  1 cli_ansi           8.7µs    9.2µs   106765.        0B    21.4 </span></span>
<span><span class="co">#&gt;  2 fansi_ansi       206.6µs  215.7µs     4583.   31.85KB    16.8 </span></span>
<span><span class="co">#&gt;  3 base_ansi          999ns    1.1µs   868353.        0B     0   </span></span>
<span><span class="co">#&gt;  4 cli_plain          8.5µs      9µs   108664.        0B    21.7 </span></span>
<span><span class="co">#&gt;  5 fansi_plain      205.5µs  214.4µs     4623.      688B    16.7 </span></span>
<span><span class="co">#&gt;  6 base_plain       899.1ns      1µs   920392.        0B     0   </span></span>
<span><span class="co">#&gt;  7 cli_vec_ansi      37.1µs   38.5µs    25697.      448B     5.14</span></span>
<span><span class="co">#&gt;  8 fansi_vec_ansi   235.6µs  243.7µs     4059.    5.02KB    14.7 </span></span>
<span><span class="co">#&gt;  9 base_vec_ansi     15.7µs   15.9µs    62540.      448B     6.25</span></span>
<span><span class="co">#&gt; 10 cli_vec_plain     35.1µs   36.4µs    27148.      448B     5.43</span></span>
<span><span class="co">#&gt; 11 fansi_vec_plain  221.4µs  230.1µs     4303.    5.02KB    14.6 </span></span>
<span><span class="co">#&gt; 12 base_vec_plain     9.4µs    9.7µs   102731.      448B     0   </span></span>
<span><span class="co">#&gt; 13 cli_txt_ansi        37µs   38.4µs    25839.        0B     5.17</span></span>
<span><span class="co">#&gt; 14 fansi_txt_ansi     221µs  231.9µs     4279.      688B    16.8 </span></span>
<span><span class="co">#&gt; 15 base_txt_ansi       15µs   15.1µs    66053.        0B     0   </span></span>
<span><span class="co">#&gt; 16 cli_txt_plain     34.2µs   35.2µs    28021.        0B     5.61</span></span>
<span><span class="co">#&gt; 17 fansi_txt_plain  211.3µs  219.5µs     4517.      688B    16.7 </span></span>
<span><span class="co">#&gt; 18 base_txt_plain     8.8µs    8.9µs   111033.        0B     0</span></span></code></pre>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">bench</span><span class="fu">::</span><span class="fu"><a href="http://bench.r-lib.org/reference/mark.html" class="external-link">mark</a></span><span class="op">(</span></span>
<span>  cli_ansi        <span class="op">=</span> <span class="fu"><a href="../reference/ansi_nchar.html">ansi_nchar</a></span><span class="op">(</span><span class="va">ansi</span>, type <span class="op">=</span> <span class="st">"width"</span><span class="op">)</span>,</span>
<span>  fansi_ansi      <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/fansi/man/nchar_sgr.html" class="external-link">nchar_sgr</a></span><span class="op">(</span><span class="va">ansi</span>, type <span class="op">=</span> <span class="st">"width"</span><span class="op">)</span>,</span>
<span>  base_ansi       <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/nchar.html" class="external-link">nchar</a></span><span class="op">(</span><span class="va">ansi</span>, <span class="st">"width"</span><span class="op">)</span>,</span>
<span>  cli_plain       <span class="op">=</span> <span class="fu"><a href="../reference/ansi_nchar.html">ansi_nchar</a></span><span class="op">(</span><span class="va">plain</span>, type <span class="op">=</span> <span class="st">"width"</span><span class="op">)</span>,</span>
<span>  fansi_plain     <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/fansi/man/nchar_sgr.html" class="external-link">nchar_sgr</a></span><span class="op">(</span><span class="va">plain</span>, type <span class="op">=</span> <span class="st">"width"</span><span class="op">)</span>,</span>
<span>  base_plain      <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/nchar.html" class="external-link">nchar</a></span><span class="op">(</span><span class="va">plain</span>, <span class="st">"width"</span><span class="op">)</span>,</span>
<span>  cli_vec_ansi    <span class="op">=</span> <span class="fu"><a href="../reference/ansi_nchar.html">ansi_nchar</a></span><span class="op">(</span><span class="va">vec_ansi</span>, type <span class="op">=</span> <span class="st">"width"</span><span class="op">)</span>,</span>
<span>  fansi_vec_ansi  <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/fansi/man/nchar_sgr.html" class="external-link">nchar_sgr</a></span><span class="op">(</span><span class="va">vec_ansi</span>, type <span class="op">=</span> <span class="st">"width"</span><span class="op">)</span>,</span>
<span>  base_vec_ansi   <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/nchar.html" class="external-link">nchar</a></span><span class="op">(</span><span class="va">vec_ansi</span>, <span class="st">"width"</span><span class="op">)</span>,</span>
<span>  cli_vec_plain   <span class="op">=</span> <span class="fu"><a href="../reference/ansi_nchar.html">ansi_nchar</a></span><span class="op">(</span><span class="va">vec_plain</span>, type <span class="op">=</span> <span class="st">"width"</span><span class="op">)</span>,</span>
<span>  fansi_vec_plain <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/fansi/man/nchar_sgr.html" class="external-link">nchar_sgr</a></span><span class="op">(</span><span class="va">vec_plain</span>, type <span class="op">=</span> <span class="st">"width"</span><span class="op">)</span>,</span>
<span>  base_vec_plain  <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/nchar.html" class="external-link">nchar</a></span><span class="op">(</span><span class="va">vec_plain</span>, <span class="st">"width"</span><span class="op">)</span>,</span>
<span>  cli_txt_ansi    <span class="op">=</span> <span class="fu"><a href="../reference/ansi_nchar.html">ansi_nchar</a></span><span class="op">(</span><span class="va">txt_ansi</span>, type <span class="op">=</span> <span class="st">"width"</span><span class="op">)</span>,</span>
<span>  fansi_txt_ansi  <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/fansi/man/nchar_sgr.html" class="external-link">nchar_sgr</a></span><span class="op">(</span><span class="va">txt_ansi</span>, type <span class="op">=</span> <span class="st">"width"</span><span class="op">)</span>,</span>
<span>  base_txt_ansi   <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/nchar.html" class="external-link">nchar</a></span><span class="op">(</span><span class="va">txt_ansi</span>, <span class="st">"width"</span><span class="op">)</span>,</span>
<span>  cli_txt_plain   <span class="op">=</span> <span class="fu"><a href="../reference/ansi_nchar.html">ansi_nchar</a></span><span class="op">(</span><span class="va">txt_plain</span>, type <span class="op">=</span> <span class="st">"width"</span><span class="op">)</span>,</span>
<span>  fansi_txt_plain <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/fansi/man/nchar_sgr.html" class="external-link">nchar_sgr</a></span><span class="op">(</span><span class="va">txt_plain</span>, type <span class="op">=</span> <span class="st">"width"</span><span class="op">)</span>,</span>
<span>  base_txt_plain  <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/nchar.html" class="external-link">nchar</a></span><span class="op">(</span><span class="va">txt_plain</span>, type <span class="op">=</span> <span class="st">"width"</span><span class="op">)</span>,</span>
<span>  check <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
<pre class="fansi fansi-output"><code><span><span class="co">#&gt; # A tibble: 18 × 6</span></span>
<span><span class="co">#&gt;    expression           min   median `itr/sec` mem_alloc `gc/sec`</span></span>
<span><span class="co">#&gt;    &lt;bch:expr&gt;      &lt;bch:tm&gt; &lt;bch:tm&gt;     &lt;dbl&gt; &lt;bch:byt&gt;    &lt;dbl&gt;</span></span>
<span><span class="co">#&gt;  1 cli_ansi          10.4µs     11µs    89258.        0B    26.8 </span></span>
<span><span class="co">#&gt;  2 fansi_ansi       208.5µs  216.9µs     4569.      688B    17.2 </span></span>
<span><span class="co">#&gt;  3 base_ansi          1.4µs    1.5µs   661370.        0B     0   </span></span>
<span><span class="co">#&gt;  4 cli_plain         10.3µs     11µs    87365.        0B    17.5 </span></span>
<span><span class="co">#&gt;  5 fansi_plain      206.8µs  213.3µs     4641.      688B    16.8 </span></span>
<span><span class="co">#&gt;  6 base_plain         1.2µs    1.3µs   745324.        0B    74.5 </span></span>
<span><span class="co">#&gt;  7 cli_vec_ansi      44.7µs   46.2µs    21562.      448B     4.31</span></span>
<span><span class="co">#&gt;  8 fansi_vec_ansi   244.2µs  251.4µs     3915.    5.02KB    14.6 </span></span>
<span><span class="co">#&gt;  9 base_vec_ansi     45.4µs   46.3µs    21314.      448B     0   </span></span>
<span><span class="co">#&gt; 10 cli_vec_plain     43.1µs   45.1µs    22024.      448B     6.61</span></span>
<span><span class="co">#&gt; 11 fansi_vec_plain  231.8µs  240.1µs     4081.    5.02KB    14.6 </span></span>
<span><span class="co">#&gt; 12 base_vec_plain    24.7µs     26µs    38288.      448B     0   </span></span>
<span><span class="co">#&gt; 13 cli_txt_ansi      44.8µs   46.9µs    21275.        0B     4.26</span></span>
<span><span class="co">#&gt; 14 fansi_txt_ansi   231.9µs  240.9µs     4114.      688B    14.6 </span></span>
<span><span class="co">#&gt; 15 base_txt_ansi     49.4µs   50.7µs    19604.        0B     2.01</span></span>
<span><span class="co">#&gt; 16 cli_txt_plain     42.6µs   43.6µs    22743.        0B     4.55</span></span>
<span><span class="co">#&gt; 17 fansi_txt_plain    217µs  226.3µs     4378.      688B    16.7 </span></span>
<span><span class="co">#&gt; 18 base_txt_plain    27.4µs   28.6µs    34666.        0B     0</span></span></code></pre>
</div>
<div class="section level3">
<h3 id="ansi_simplify">
<code>ansi_simplify()</code><a class="anchor" aria-label="anchor" href="#ansi_simplify"></a>
</h3>
<p>Nothing to compare here.</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">bench</span><span class="fu">::</span><span class="fu"><a href="http://bench.r-lib.org/reference/mark.html" class="external-link">mark</a></span><span class="op">(</span></span>
<span>  cli_ansi      <span class="op">=</span> <span class="fu"><a href="../reference/ansi_simplify.html">ansi_simplify</a></span><span class="op">(</span><span class="va">ansi</span><span class="op">)</span>,</span>
<span>  cli_plain     <span class="op">=</span> <span class="fu"><a href="../reference/ansi_simplify.html">ansi_simplify</a></span><span class="op">(</span><span class="va">plain</span><span class="op">)</span>,</span>
<span>  cli_vec_ansi  <span class="op">=</span> <span class="fu"><a href="../reference/ansi_simplify.html">ansi_simplify</a></span><span class="op">(</span><span class="va">vec_ansi</span><span class="op">)</span>,</span>
<span>  cli_vec_plain <span class="op">=</span> <span class="fu"><a href="../reference/ansi_simplify.html">ansi_simplify</a></span><span class="op">(</span><span class="va">vec_plain</span><span class="op">)</span>,</span>
<span>  cli_txt_ansi  <span class="op">=</span> <span class="fu"><a href="../reference/ansi_simplify.html">ansi_simplify</a></span><span class="op">(</span><span class="va">txt_ansi</span><span class="op">)</span>,</span>
<span>  cli_txt_plain <span class="op">=</span> <span class="fu"><a href="../reference/ansi_simplify.html">ansi_simplify</a></span><span class="op">(</span><span class="va">txt_plain</span><span class="op">)</span>,</span>
<span>  check <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
<pre class="fansi fansi-output"><code><span><span class="co">#&gt; # A tibble: 6 × 6</span></span>
<span><span class="co">#&gt;   expression         min   median `itr/sec` mem_alloc `gc/sec`</span></span>
<span><span class="co">#&gt;   &lt;bch:expr&gt;    &lt;bch:tm&gt; &lt;bch:tm&gt;     &lt;dbl&gt; &lt;bch:byt&gt;    &lt;dbl&gt;</span></span>
<span><span class="co">#&gt; 1 cli_ansi         8.7µs    9.2µs   106924.    6.45KB    21.4 </span></span>
<span><span class="co">#&gt; 2 cli_plain          8µs    8.5µs   115462.        0B    23.1 </span></span>
<span><span class="co">#&gt; 3 cli_vec_ansi    51.1µs   52.1µs    19119.      848B     4.06</span></span>
<span><span class="co">#&gt; 4 cli_vec_plain     13µs   13.6µs    72869.      848B     7.29</span></span>
<span><span class="co">#&gt; 5 cli_txt_ansi      50µs     51µs    19520.        0B     4.05</span></span>
<span><span class="co">#&gt; 6 cli_txt_plain    9.1µs    9.6µs   101923.        0B    20.4</span></span></code></pre>
</div>
<div class="section level3">
<h3 id="ansi_strip">
<code>ansi_strip()</code><a class="anchor" aria-label="anchor" href="#ansi_strip"></a>
</h3>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">bench</span><span class="fu">::</span><span class="fu"><a href="http://bench.r-lib.org/reference/mark.html" class="external-link">mark</a></span><span class="op">(</span></span>
<span>  cli_ansi        <span class="op">=</span> <span class="fu"><a href="../reference/ansi_strip.html">ansi_strip</a></span><span class="op">(</span><span class="va">ansi</span><span class="op">)</span>,</span>
<span>  fansi_ansi      <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/fansi/man/strip_sgr.html" class="external-link">strip_sgr</a></span><span class="op">(</span><span class="va">ansi</span><span class="op">)</span>,</span>
<span>  cli_plain       <span class="op">=</span> <span class="fu"><a href="../reference/ansi_strip.html">ansi_strip</a></span><span class="op">(</span><span class="va">plain</span><span class="op">)</span>,</span>
<span>  fansi_plain     <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/fansi/man/strip_sgr.html" class="external-link">strip_sgr</a></span><span class="op">(</span><span class="va">plain</span><span class="op">)</span>,</span>
<span>  cli_vec_ansi    <span class="op">=</span> <span class="fu"><a href="../reference/ansi_strip.html">ansi_strip</a></span><span class="op">(</span><span class="va">vec_ansi</span><span class="op">)</span>,</span>
<span>  fansi_vec_ansi  <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/fansi/man/strip_sgr.html" class="external-link">strip_sgr</a></span><span class="op">(</span><span class="va">vec_ansi</span><span class="op">)</span>,</span>
<span>  cli_vec_plain   <span class="op">=</span> <span class="fu"><a href="../reference/ansi_strip.html">ansi_strip</a></span><span class="op">(</span><span class="va">vec_plain</span><span class="op">)</span>,</span>
<span>  fansi_vec_plain <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/fansi/man/strip_sgr.html" class="external-link">strip_sgr</a></span><span class="op">(</span><span class="va">vec_plain</span><span class="op">)</span>,</span>
<span>  cli_txt_ansi    <span class="op">=</span> <span class="fu"><a href="../reference/ansi_strip.html">ansi_strip</a></span><span class="op">(</span><span class="va">txt_ansi</span><span class="op">)</span>,</span>
<span>  fansi_txt_ansi  <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/fansi/man/strip_sgr.html" class="external-link">strip_sgr</a></span><span class="op">(</span><span class="va">txt_ansi</span><span class="op">)</span>,</span>
<span>  cli_txt_plain   <span class="op">=</span> <span class="fu"><a href="../reference/ansi_strip.html">ansi_strip</a></span><span class="op">(</span><span class="va">txt_plain</span><span class="op">)</span>,</span>
<span>  fansi_txt_plain <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/fansi/man/strip_sgr.html" class="external-link">strip_sgr</a></span><span class="op">(</span><span class="va">txt_plain</span><span class="op">)</span>,</span>
<span>  check <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
<pre class="fansi fansi-output"><code><span><span class="co">#&gt; # A tibble: 12 × 6</span></span>
<span><span class="co">#&gt;    expression           min   median `itr/sec` mem_alloc `gc/sec`</span></span>
<span><span class="co">#&gt;    &lt;bch:expr&gt;      &lt;bch:tm&gt; &lt;bch:tm&gt;     &lt;dbl&gt; &lt;bch:byt&gt;    &lt;dbl&gt;</span></span>
<span><span class="co">#&gt;  1 cli_ansi          13.1µs   14.1µs    69824.        0B     27.9</span></span>
<span><span class="co">#&gt;  2 fansi_ansi        33.2µs   34.5µs    28629.      688B     22.9</span></span>
<span><span class="co">#&gt;  3 cli_plain         13.3µs     14µs    70678.        0B     28.3</span></span>
<span><span class="co">#&gt;  4 fansi_plain       32.8µs   34.2µs    28885.      688B     23.1</span></span>
<span><span class="co">#&gt;  5 cli_vec_ansi      25.2µs     26µs    38032.      848B     15.2</span></span>
<span><span class="co">#&gt;  6 fansi_vec_ansi      67µs   69.4µs    14294.    5.41KB     12.5</span></span>
<span><span class="co">#&gt;  7 cli_vec_plain     16.4µs   17.3µs    57042.      848B     17.1</span></span>
<span><span class="co">#&gt;  8 fansi_vec_plain     45µs   46.8µs    21090.    4.59KB     19.2</span></span>
<span><span class="co">#&gt;  9 cli_txt_ansi      24.5µs   25.1µs    39376.        0B     11.8</span></span>
<span><span class="co">#&gt; 10 fansi_txt_ansi    54.8µs   56.6µs    17494.    5.12KB     14.6</span></span>
<span><span class="co">#&gt; 11 cli_txt_plain     14.3µs     15µs    65708.        0B     26.3</span></span>
<span><span class="co">#&gt; 12 fansi_txt_plain   35.1µs   36.4µs    26705.      688B     21.4</span></span></code></pre>
</div>
<div class="section level3">
<h3 id="ansi_strsplit">
<code>ansi_strsplit()</code><a class="anchor" aria-label="anchor" href="#ansi_strsplit"></a>
</h3>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">bench</span><span class="fu">::</span><span class="fu"><a href="http://bench.r-lib.org/reference/mark.html" class="external-link">mark</a></span><span class="op">(</span></span>
<span>  cli_ansi        <span class="op">=</span> <span class="fu"><a href="../reference/ansi_strsplit.html">ansi_strsplit</a></span><span class="op">(</span><span class="va">ansi</span>, <span class="st">"i"</span><span class="op">)</span>,</span>
<span>  fansi_ansi      <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/fansi/man/strsplit_sgr.html" class="external-link">strsplit_sgr</a></span><span class="op">(</span><span class="va">ansi</span>, <span class="st">"i"</span><span class="op">)</span>,</span>
<span>  base_ansi       <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/strsplit.html" class="external-link">strsplit</a></span><span class="op">(</span><span class="va">ansi</span>, <span class="st">"i"</span><span class="op">)</span>,</span>
<span>  cli_plain       <span class="op">=</span> <span class="fu"><a href="../reference/ansi_strsplit.html">ansi_strsplit</a></span><span class="op">(</span><span class="va">plain</span>, <span class="st">"i"</span><span class="op">)</span>,</span>
<span>  fansi_plain     <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/fansi/man/strsplit_sgr.html" class="external-link">strsplit_sgr</a></span><span class="op">(</span><span class="va">plain</span>, <span class="st">"i"</span><span class="op">)</span>,</span>
<span>  base_plain      <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/strsplit.html" class="external-link">strsplit</a></span><span class="op">(</span><span class="va">plain</span>, <span class="st">"i"</span><span class="op">)</span>,</span>
<span>  cli_vec_ansi    <span class="op">=</span> <span class="fu"><a href="../reference/ansi_strsplit.html">ansi_strsplit</a></span><span class="op">(</span><span class="va">vec_ansi</span>, <span class="st">"i"</span><span class="op">)</span>,</span>
<span>  fansi_vec_ansi  <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/fansi/man/strsplit_sgr.html" class="external-link">strsplit_sgr</a></span><span class="op">(</span><span class="va">vec_ansi</span>, <span class="st">"i"</span><span class="op">)</span>,</span>
<span>  base_vec_ansi   <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/strsplit.html" class="external-link">strsplit</a></span><span class="op">(</span><span class="va">vec_ansi</span>, <span class="st">"i"</span><span class="op">)</span>,</span>
<span>  cli_vec_plain   <span class="op">=</span> <span class="fu"><a href="../reference/ansi_strsplit.html">ansi_strsplit</a></span><span class="op">(</span><span class="va">vec_plain</span>, <span class="st">"i"</span><span class="op">)</span>,</span>
<span>  fansi_vec_plain <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/fansi/man/strsplit_sgr.html" class="external-link">strsplit_sgr</a></span><span class="op">(</span><span class="va">vec_plain</span>, <span class="st">"i"</span><span class="op">)</span>,</span>
<span>  base_vec_plain  <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/strsplit.html" class="external-link">strsplit</a></span><span class="op">(</span><span class="va">vec_plain</span>, <span class="st">"i"</span><span class="op">)</span>,</span>
<span>  cli_txt_ansi    <span class="op">=</span> <span class="fu"><a href="../reference/ansi_strsplit.html">ansi_strsplit</a></span><span class="op">(</span><span class="va">txt_ansi</span>, <span class="st">"i"</span><span class="op">)</span>,</span>
<span>  fansi_txt_ansi  <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/fansi/man/strsplit_sgr.html" class="external-link">strsplit_sgr</a></span><span class="op">(</span><span class="va">txt_ansi</span>, <span class="st">"i"</span><span class="op">)</span>,</span>
<span>  base_txt_ansi   <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/strsplit.html" class="external-link">strsplit</a></span><span class="op">(</span><span class="va">txt_ansi</span>, <span class="st">"i"</span><span class="op">)</span>,</span>
<span>  cli_txt_plain   <span class="op">=</span> <span class="fu"><a href="../reference/ansi_strsplit.html">ansi_strsplit</a></span><span class="op">(</span><span class="va">txt_plain</span>, <span class="st">"i"</span><span class="op">)</span>,</span>
<span>  fansi_txt_plain <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/fansi/man/strsplit_sgr.html" class="external-link">strsplit_sgr</a></span><span class="op">(</span><span class="va">txt_plain</span>, <span class="st">"i"</span><span class="op">)</span>,</span>
<span>  base_txt_plain  <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/strsplit.html" class="external-link">strsplit</a></span><span class="op">(</span><span class="va">txt_plain</span>, <span class="st">"i"</span><span class="op">)</span>,</span>
<span>  check <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
<pre class="fansi fansi-output"><code><span><span class="co">#&gt; # A tibble: 18 × 6</span></span>
<span><span class="co">#&gt;    expression           min   median `itr/sec` mem_alloc `gc/sec`</span></span>
<span><span class="co">#&gt;    &lt;bch:expr&gt;      &lt;bch:tm&gt; &lt;bch:tm&gt;     &lt;dbl&gt; &lt;bch:byt&gt;    &lt;dbl&gt;</span></span>
<span><span class="co">#&gt;  1 cli_ansi         163.6µs  168.7µs     5867.  103.37KB    18.9 </span></span>
<span><span class="co">#&gt;  2 fansi_ansi       143.9µs  149.8µs     6608.  102.16KB    21.4 </span></span>
<span><span class="co">#&gt;  3 base_ansi          6.7µs    7.1µs   140522.      224B     0   </span></span>
<span><span class="co">#&gt;  4 cli_plain        162.7µs  169.5µs     5843.    8.09KB    18.9 </span></span>
<span><span class="co">#&gt;  5 fansi_plain      142.7µs  148.5µs     6684.    9.62KB    21.1 </span></span>
<span><span class="co">#&gt;  6 base_plain         6.1µs    6.4µs   153551.        0B     0   </span></span>
<span><span class="co">#&gt;  7 cli_vec_ansi      8.37ms   8.49ms      118.  823.77KB    28.7 </span></span>
<span><span class="co">#&gt;  8 fansi_vec_ansi    1.31ms   1.34ms      728.  846.81KB    15.0 </span></span>
<span><span class="co">#&gt;  9 base_vec_ansi    230.3µs  236.2µs     4191.    22.7KB     2.02</span></span>
<span><span class="co">#&gt; 10 cli_vec_plain     8.35ms   8.47ms      117.  823.77KB    26.7 </span></span>
<span><span class="co">#&gt; 11 fansi_vec_plain   1.21ms   1.26ms      788.  845.98KB    19.6 </span></span>
<span><span class="co">#&gt; 12 base_vec_plain   164.8µs  169.2µs     5890.      848B     2.02</span></span>
<span><span class="co">#&gt; 13 cli_txt_ansi      4.33ms    4.4ms      227.    63.6KB     0   </span></span>
<span><span class="co">#&gt; 14 fansi_txt_ansi    1.97ms   1.99ms      503.   35.05KB     2.02</span></span>
<span><span class="co">#&gt; 15 base_txt_ansi    196.3µs 207.55µs     4830.   18.47KB     2.03</span></span>
<span><span class="co">#&gt; 16 cli_txt_plain     3.09ms   3.25ms      307.    63.6KB     0   </span></span>
<span><span class="co">#&gt; 17 fansi_txt_plain  676.3µs  687.2µs     1446.    30.6KB     4.07</span></span>
<span><span class="co">#&gt; 18 base_txt_plain   130.9µs  136.8µs     7270.   11.05KB     0</span></span></code></pre>
</div>
<div class="section level3">
<h3 id="ansi_strtrim">
<code>ansi_strtrim()</code><a class="anchor" aria-label="anchor" href="#ansi_strtrim"></a>
</h3>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">bench</span><span class="fu">::</span><span class="fu"><a href="http://bench.r-lib.org/reference/mark.html" class="external-link">mark</a></span><span class="op">(</span></span>
<span>  cli_ansi        <span class="op">=</span> <span class="fu"><a href="../reference/ansi_strtrim.html">ansi_strtrim</a></span><span class="op">(</span><span class="va">ansi</span>, <span class="fl">10</span><span class="op">)</span>,</span>
<span>  fansi_ansi      <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/fansi/man/strtrim_sgr.html" class="external-link">strtrim_sgr</a></span><span class="op">(</span><span class="va">ansi</span>, <span class="fl">10</span><span class="op">)</span>,</span>
<span>  base_ansi       <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/strtrim.html" class="external-link">strtrim</a></span><span class="op">(</span><span class="va">ansi</span>, <span class="fl">10</span><span class="op">)</span>,</span>
<span>  cli_plain       <span class="op">=</span> <span class="fu"><a href="../reference/ansi_strtrim.html">ansi_strtrim</a></span><span class="op">(</span><span class="va">plain</span>, <span class="fl">10</span><span class="op">)</span>,</span>
<span>  fansi_plain     <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/fansi/man/strtrim_sgr.html" class="external-link">strtrim_sgr</a></span><span class="op">(</span><span class="va">plain</span>, <span class="fl">10</span><span class="op">)</span>,</span>
<span>  base_plain      <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/strtrim.html" class="external-link">strtrim</a></span><span class="op">(</span><span class="va">plain</span>, <span class="fl">10</span><span class="op">)</span>,</span>
<span>  cli_vec_ansi    <span class="op">=</span> <span class="fu"><a href="../reference/ansi_strtrim.html">ansi_strtrim</a></span><span class="op">(</span><span class="va">vec_ansi</span>, <span class="fl">10</span><span class="op">)</span>,</span>
<span>  fansi_vec_ansi  <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/fansi/man/strtrim_sgr.html" class="external-link">strtrim_sgr</a></span><span class="op">(</span><span class="va">vec_ansi</span>, <span class="fl">10</span><span class="op">)</span>,</span>
<span>  base_vec_ansi   <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/strtrim.html" class="external-link">strtrim</a></span><span class="op">(</span><span class="va">vec_ansi</span>, <span class="fl">10</span><span class="op">)</span>,</span>
<span>  cli_vec_plain   <span class="op">=</span> <span class="fu"><a href="../reference/ansi_strtrim.html">ansi_strtrim</a></span><span class="op">(</span><span class="va">vec_plain</span>, <span class="fl">10</span><span class="op">)</span>,</span>
<span>  fansi_vec_plain <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/fansi/man/strtrim_sgr.html" class="external-link">strtrim_sgr</a></span><span class="op">(</span><span class="va">vec_plain</span>, <span class="fl">10</span><span class="op">)</span>,</span>
<span>  base_vec_plain  <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/strtrim.html" class="external-link">strtrim</a></span><span class="op">(</span><span class="va">vec_plain</span>, <span class="fl">10</span><span class="op">)</span>,</span>
<span>  cli_txt_ansi    <span class="op">=</span> <span class="fu"><a href="../reference/ansi_strtrim.html">ansi_strtrim</a></span><span class="op">(</span><span class="va">txt_ansi</span>, <span class="fl">10</span><span class="op">)</span>,</span>
<span>  fansi_txt_ansi  <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/fansi/man/strtrim_sgr.html" class="external-link">strtrim_sgr</a></span><span class="op">(</span><span class="va">txt_ansi</span>, <span class="fl">10</span><span class="op">)</span>,</span>
<span>  base_txt_ansi   <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/strtrim.html" class="external-link">strtrim</a></span><span class="op">(</span><span class="va">txt_ansi</span>, <span class="fl">10</span><span class="op">)</span>,</span>
<span>  cli_txt_plain   <span class="op">=</span> <span class="fu"><a href="../reference/ansi_strtrim.html">ansi_strtrim</a></span><span class="op">(</span><span class="va">txt_plain</span>, <span class="fl">10</span><span class="op">)</span>,</span>
<span>  fansi_txt_plain <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/fansi/man/strtrim_sgr.html" class="external-link">strtrim_sgr</a></span><span class="op">(</span><span class="va">txt_plain</span>, <span class="fl">10</span><span class="op">)</span>,</span>
<span>  base_txt_plain  <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/strtrim.html" class="external-link">strtrim</a></span><span class="op">(</span><span class="va">txt_plain</span>, <span class="fl">10</span><span class="op">)</span>,</span>
<span>  check <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
<pre class="fansi fansi-output"><code><span><span class="co">#&gt; # A tibble: 18 × 6</span></span>
<span><span class="co">#&gt;    expression           min   median `itr/sec` mem_alloc `gc/sec`</span></span>
<span><span class="co">#&gt;    &lt;bch:expr&gt;      &lt;bch:tm&gt; &lt;bch:tm&gt;     &lt;dbl&gt; &lt;bch:byt&gt;    &lt;dbl&gt;</span></span>
<span><span class="co">#&gt;  1 cli_ansi         109.4µs  113.7µs     8678.   32.26KB    21.0 </span></span>
<span><span class="co">#&gt;  2 fansi_ansi        60.7µs   63.2µs    15562.   31.45KB    23.6 </span></span>
<span><span class="co">#&gt;  3 base_ansi          1.2µs    1.3µs   785525.     4.2KB     0   </span></span>
<span><span class="co">#&gt;  4 cli_plain          107µs  110.7µs     8952.        0B    21.0 </span></span>
<span><span class="co">#&gt;  5 fansi_plain       60.3µs   62.7µs    15697.      872B    23.8 </span></span>
<span><span class="co">#&gt;  6 base_plain         1.1µs    1.2µs   835789.        0B     0   </span></span>
<span><span class="co">#&gt;  7 cli_vec_ansi     291.3µs  296.3µs     3346.   16.73KB     8.25</span></span>
<span><span class="co">#&gt;  8 fansi_vec_ansi   150.9µs  153.7µs     6444.    5.59KB    10.3 </span></span>
<span><span class="co">#&gt;  9 base_vec_ansi     42.3µs   43.1µs    23107.      848B     0   </span></span>
<span><span class="co">#&gt; 10 cli_vec_plain    212.3µs  216.8µs     4575.   16.73KB    12.5 </span></span>
<span><span class="co">#&gt; 11 fansi_vec_plain  145.5µs  148.4µs     6669.    5.59KB    10.4 </span></span>
<span><span class="co">#&gt; 12 base_vec_plain    36.5µs   37.5µs    26514.      848B     0   </span></span>
<span><span class="co">#&gt; 13 cli_txt_ansi     120.6µs  124.2µs     7984.        0B    18.9 </span></span>
<span><span class="co">#&gt; 14 fansi_txt_ansi    60.2µs   62.6µs    15799.      872B    23.3 </span></span>
<span><span class="co">#&gt; 15 base_txt_ansi      1.2µs    1.3µs   729494.        0B     0   </span></span>
<span><span class="co">#&gt; 16 cli_txt_plain    108.2µs  112.3µs     8815.        0B    21.1 </span></span>
<span><span class="co">#&gt; 17 fansi_txt_plain     60µs   62.6µs    15809.      872B    23.3 </span></span>
<span><span class="co">#&gt; 18 base_txt_plain     1.1µs    1.3µs   752376.        0B     0</span></span></code></pre>
</div>
<div class="section level3">
<h3 id="ansi_strwrap">
<code>ansi_strwrap()</code><a class="anchor" aria-label="anchor" href="#ansi_strwrap"></a>
</h3>
<p>This function is most useful for longer text, but it is often called for short text in cli, so it makes sense to benchmark that as well.</p>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">bench</span><span class="fu">::</span><span class="fu"><a href="http://bench.r-lib.org/reference/mark.html" class="external-link">mark</a></span><span class="op">(</span></span>
<span>  cli_ansi        <span class="op">=</span> <span class="fu"><a href="../reference/ansi_strwrap.html">ansi_strwrap</a></span><span class="op">(</span><span class="va">ansi</span>, <span class="fl">30</span><span class="op">)</span>,</span>
<span>  fansi_ansi      <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/fansi/man/strwrap_sgr.html" class="external-link">strwrap_sgr</a></span><span class="op">(</span><span class="va">ansi</span>, <span class="fl">30</span><span class="op">)</span>,</span>
<span>  base_ansi       <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/strwrap.html" class="external-link">strwrap</a></span><span class="op">(</span><span class="va">ansi</span>, <span class="fl">30</span><span class="op">)</span>,</span>
<span>  cli_plain       <span class="op">=</span> <span class="fu"><a href="../reference/ansi_strwrap.html">ansi_strwrap</a></span><span class="op">(</span><span class="va">plain</span>, <span class="fl">30</span><span class="op">)</span>,</span>
<span>  fansi_plain     <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/fansi/man/strwrap_sgr.html" class="external-link">strwrap_sgr</a></span><span class="op">(</span><span class="va">plain</span>, <span class="fl">30</span><span class="op">)</span>,</span>
<span>  base_plain      <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/strwrap.html" class="external-link">strwrap</a></span><span class="op">(</span><span class="va">plain</span>, <span class="fl">30</span><span class="op">)</span>,</span>
<span>  cli_vec_ansi    <span class="op">=</span> <span class="fu"><a href="../reference/ansi_strwrap.html">ansi_strwrap</a></span><span class="op">(</span><span class="va">vec_ansi</span>, <span class="fl">30</span><span class="op">)</span>,</span>
<span>  fansi_vec_ansi  <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/fansi/man/strwrap_sgr.html" class="external-link">strwrap_sgr</a></span><span class="op">(</span><span class="va">vec_ansi</span>, <span class="fl">30</span><span class="op">)</span>,</span>
<span>  base_vec_ansi   <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/strwrap.html" class="external-link">strwrap</a></span><span class="op">(</span><span class="va">vec_ansi</span>, <span class="fl">30</span><span class="op">)</span>,</span>
<span>  cli_vec_plain   <span class="op">=</span> <span class="fu"><a href="../reference/ansi_strwrap.html">ansi_strwrap</a></span><span class="op">(</span><span class="va">vec_plain</span>, <span class="fl">30</span><span class="op">)</span>,</span>
<span>  fansi_vec_plain <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/fansi/man/strwrap_sgr.html" class="external-link">strwrap_sgr</a></span><span class="op">(</span><span class="va">vec_plain</span>, <span class="fl">30</span><span class="op">)</span>,</span>
<span>  base_vec_plain  <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/strwrap.html" class="external-link">strwrap</a></span><span class="op">(</span><span class="va">vec_plain</span>, <span class="fl">30</span><span class="op">)</span>,</span>
<span>  cli_txt_ansi    <span class="op">=</span> <span class="fu"><a href="../reference/ansi_strwrap.html">ansi_strwrap</a></span><span class="op">(</span><span class="va">txt_ansi</span>, <span class="fl">30</span><span class="op">)</span>,</span>
<span>  fansi_txt_ansi  <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/fansi/man/strwrap_sgr.html" class="external-link">strwrap_sgr</a></span><span class="op">(</span><span class="va">txt_ansi</span>, <span class="fl">30</span><span class="op">)</span>,</span>
<span>  base_txt_ansi   <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/strwrap.html" class="external-link">strwrap</a></span><span class="op">(</span><span class="va">txt_ansi</span>, <span class="fl">30</span><span class="op">)</span>,</span>
<span>  cli_txt_plain   <span class="op">=</span> <span class="fu"><a href="../reference/ansi_strwrap.html">ansi_strwrap</a></span><span class="op">(</span><span class="va">txt_plain</span>, <span class="fl">30</span><span class="op">)</span>,</span>
<span>  fansi_txt_plain <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/fansi/man/strwrap_sgr.html" class="external-link">strwrap_sgr</a></span><span class="op">(</span><span class="va">txt_plain</span>, <span class="fl">30</span><span class="op">)</span>,</span>
<span>  base_txt_plain  <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/strwrap.html" class="external-link">strwrap</a></span><span class="op">(</span><span class="va">txt_plain</span>, <span class="fl">30</span><span class="op">)</span>,</span>
<span>  check <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
<pre class="fansi fansi-output"><code><span><span class="co">#&gt; # A tibble: 18 × 6</span></span>
<span><span class="co">#&gt;    expression           min   median `itr/sec` mem_alloc `gc/sec`</span></span>
<span><span class="co">#&gt;    &lt;bch:expr&gt;      &lt;bch:tm&gt; &lt;bch:tm&gt;     &lt;dbl&gt; &lt;bch:byt&gt;    &lt;dbl&gt;</span></span>
<span><span class="co">#&gt;  1 cli_ansi         384.1µs  399.5µs    2489.         0B    19.1 </span></span>
<span><span class="co">#&gt;  2 fansi_ansi       109.7µs  114.3µs    8650.     10.3KB    21.2 </span></span>
<span><span class="co">#&gt;  3 base_ansi         44.6µs   46.2µs   21322.         0B    21.3 </span></span>
<span><span class="co">#&gt;  4 cli_plain          224µs  230.7µs    4288.         0B    16.7 </span></span>
<span><span class="co">#&gt;  5 fansi_plain      108.5µs  113.1µs    8743.       872B    21.1 </span></span>
<span><span class="co">#&gt;  6 base_plain        36.7µs   37.9µs   26113.         0B    20.9 </span></span>
<span><span class="co">#&gt;  7 cli_vec_ansi     38.44ms  38.71ms      25.9    2.48KB    69.0 </span></span>
<span><span class="co">#&gt;  8 fansi_vec_ansi   293.3µs  298.6µs    3327.     7.25KB    10.3 </span></span>
<span><span class="co">#&gt;  9 base_vec_ansi     2.81ms   2.87ms     347.    48.18KB    22.3 </span></span>
<span><span class="co">#&gt; 10 cli_vec_plain    22.53ms   22.7ms      44.0    2.48KB    33.0 </span></span>
<span><span class="co">#&gt; 11 fansi_vec_plain  243.9µs  250.6µs    3923.     6.42KB    10.3 </span></span>
<span><span class="co">#&gt; 12 base_vec_plain    2.07ms   2.12ms     470.     47.4KB    22.2 </span></span>
<span><span class="co">#&gt; 13 cli_txt_ansi     31.84ms  32.14ms      31.1  507.59KB    10.4 </span></span>
<span><span class="co">#&gt; 14 fansi_txt_ansi   277.5µs  283.9µs    3496.     6.77KB     8.21</span></span>
<span><span class="co">#&gt; 15 base_txt_ansi     4.16ms    4.2ms     237.   582.06KB     6.30</span></span>
<span><span class="co">#&gt; 16 cli_txt_plain     3.48ms   3.52ms     283.   369.84KB     6.33</span></span>
<span><span class="co">#&gt; 17 fansi_txt_plain  219.3µs  225.1µs    4395.     2.51KB    12.5 </span></span>
<span><span class="co">#&gt; 18 base_txt_plain    2.58ms   2.61ms     382.   367.31KB     6.26</span></span></code></pre>
</div>
<div class="section level3">
<h3 id="ansi_substr">
<code>ansi_substr()</code><a class="anchor" aria-label="anchor" href="#ansi_substr"></a>
</h3>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">bench</span><span class="fu">::</span><span class="fu"><a href="http://bench.r-lib.org/reference/mark.html" class="external-link">mark</a></span><span class="op">(</span></span>
<span>  cli_ansi        <span class="op">=</span> <span class="fu"><a href="../reference/ansi_substr.html">ansi_substr</a></span><span class="op">(</span><span class="va">ansi</span>, <span class="fl">2</span>, <span class="fl">10</span><span class="op">)</span>,</span>
<span>  fansi_ansi      <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/fansi/man/substr_sgr.html" class="external-link">substr_sgr</a></span><span class="op">(</span><span class="va">ansi</span>, <span class="fl">2</span>, <span class="fl">10</span><span class="op">)</span>,</span>
<span>  base_ansi       <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/substr.html" class="external-link">substr</a></span><span class="op">(</span><span class="va">ansi</span>, <span class="fl">2</span>, <span class="fl">10</span><span class="op">)</span>,</span>
<span>  cli_plain       <span class="op">=</span> <span class="fu"><a href="../reference/ansi_substr.html">ansi_substr</a></span><span class="op">(</span><span class="va">plain</span>, <span class="fl">2</span>, <span class="fl">10</span><span class="op">)</span>,</span>
<span>  fansi_plain     <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/fansi/man/substr_sgr.html" class="external-link">substr_sgr</a></span><span class="op">(</span><span class="va">plain</span>, <span class="fl">2</span>, <span class="fl">10</span><span class="op">)</span>,</span>
<span>  base_plain      <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/substr.html" class="external-link">substr</a></span><span class="op">(</span><span class="va">plain</span>, <span class="fl">2</span>, <span class="fl">10</span><span class="op">)</span>,</span>
<span>  cli_vec_ansi    <span class="op">=</span> <span class="fu"><a href="../reference/ansi_substr.html">ansi_substr</a></span><span class="op">(</span><span class="va">vec_ansi</span>, <span class="fl">2</span>, <span class="fl">10</span><span class="op">)</span>,</span>
<span>  fansi_vec_ansi  <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/fansi/man/substr_sgr.html" class="external-link">substr_sgr</a></span><span class="op">(</span><span class="va">vec_ansi</span>, <span class="fl">2</span>, <span class="fl">10</span><span class="op">)</span>,</span>
<span>  base_vec_ansi   <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/substr.html" class="external-link">substr</a></span><span class="op">(</span><span class="va">vec_ansi</span>, <span class="fl">2</span>, <span class="fl">10</span><span class="op">)</span>,</span>
<span>  cli_vec_plain   <span class="op">=</span> <span class="fu"><a href="../reference/ansi_substr.html">ansi_substr</a></span><span class="op">(</span><span class="va">vec_plain</span>, <span class="fl">2</span>, <span class="fl">10</span><span class="op">)</span>,</span>
<span>  fansi_vec_plain <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/fansi/man/substr_sgr.html" class="external-link">substr_sgr</a></span><span class="op">(</span><span class="va">vec_plain</span>, <span class="fl">2</span>, <span class="fl">10</span><span class="op">)</span>,</span>
<span>  base_vec_plain  <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/substr.html" class="external-link">substr</a></span><span class="op">(</span><span class="va">vec_plain</span>, <span class="fl">2</span>, <span class="fl">10</span><span class="op">)</span>,</span>
<span>  cli_txt_ansi    <span class="op">=</span> <span class="fu"><a href="../reference/ansi_substr.html">ansi_substr</a></span><span class="op">(</span><span class="va">txt_ansi</span>, <span class="fl">2</span>, <span class="fl">10</span><span class="op">)</span>,</span>
<span>  fansi_txt_ansi  <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/fansi/man/substr_sgr.html" class="external-link">substr_sgr</a></span><span class="op">(</span><span class="va">txt_ansi</span>, <span class="fl">2</span>, <span class="fl">10</span><span class="op">)</span>,</span>
<span>  base_txt_ansi   <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/substr.html" class="external-link">substr</a></span><span class="op">(</span><span class="va">txt_ansi</span>, <span class="fl">2</span>, <span class="fl">10</span><span class="op">)</span>,</span>
<span>  cli_txt_plain   <span class="op">=</span> <span class="fu"><a href="../reference/ansi_substr.html">ansi_substr</a></span><span class="op">(</span><span class="va">txt_plain</span>, <span class="fl">2</span>, <span class="fl">10</span><span class="op">)</span>,</span>
<span>  fansi_txt_plain <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/fansi/man/substr_sgr.html" class="external-link">substr_sgr</a></span><span class="op">(</span><span class="va">txt_plain</span>, <span class="fl">2</span>, <span class="fl">10</span><span class="op">)</span>,</span>
<span>  base_txt_plain  <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/substr.html" class="external-link">substr</a></span><span class="op">(</span><span class="va">txt_plain</span>, <span class="fl">2</span>, <span class="fl">10</span><span class="op">)</span>,</span>
<span>  check <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
<pre class="fansi fansi-output"><code><span><span class="co">#&gt; # A tibble: 18 × 6</span></span>
<span><span class="co">#&gt;    expression           min   median `itr/sec` mem_alloc `gc/sec`</span></span>
<span><span class="co">#&gt;    &lt;bch:expr&gt;      &lt;bch:tm&gt; &lt;bch:tm&gt;     &lt;dbl&gt; &lt;bch:byt&gt;    &lt;dbl&gt;</span></span>
<span><span class="co">#&gt;  1 cli_ansi           8.3µs      9µs   109139.   23.84KB    21.8 </span></span>
<span><span class="co">#&gt;  2 fansi_ansi        87.2µs   90.9µs    10838.   28.48KB    21.2 </span></span>
<span><span class="co">#&gt;  3 base_ansi          1.1µs    1.2µs   774765.        0B     0   </span></span>
<span><span class="co">#&gt;  4 cli_plain          8.3µs    8.9µs   110176.        0B    33.1 </span></span>
<span><span class="co">#&gt;  5 fansi_plain       87.1µs   90.8µs    10837.    1.98KB    21.3 </span></span>
<span><span class="co">#&gt;  6 base_plain         1.1µs    1.2µs   818636.        0B     0   </span></span>
<span><span class="co">#&gt;  7 cli_vec_ansi      35.5µs   37.5µs    26488.     1.7KB     5.30</span></span>
<span><span class="co">#&gt;  8 fansi_vec_ansi   134.4µs  138.9µs     7106.    8.86KB    14.7 </span></span>
<span><span class="co">#&gt;  9 base_vec_ansi      6.9µs    7.4µs   134068.      848B     0   </span></span>
<span><span class="co">#&gt; 10 cli_vec_plain       29µs   30.4µs    32478.     1.7KB     9.75</span></span>
<span><span class="co">#&gt; 11 fansi_vec_plain  126.5µs  130.8µs     7534.    8.86KB    14.7 </span></span>
<span><span class="co">#&gt; 12 base_vec_plain     6.1µs    6.5µs   153325.      848B     0   </span></span>
<span><span class="co">#&gt; 13 cli_txt_ansi       8.3µs    8.8µs   110673.        0B    22.1 </span></span>
<span><span class="co">#&gt; 14 fansi_txt_ansi    86.7µs   90.2µs    10929.    1.98KB    21.2 </span></span>
<span><span class="co">#&gt; 15 base_txt_ansi      8.2µs    8.3µs   118532.        0B    11.9 </span></span>
<span><span class="co">#&gt; 16 cli_txt_plain      9.3µs    9.9µs    99403.        0B    19.9 </span></span>
<span><span class="co">#&gt; 17 fansi_txt_plain   86.2µs   88.8µs    11151.    1.98KB    21.1 </span></span>
<span><span class="co">#&gt; 18 base_txt_plain     5.1µs    5.3µs   188472.        0B     0</span></span></code></pre>
</div>
<div class="section level3">
<h3 id="ansi_tolower-ansi_toupper">
<code>ansi_tolower()</code> , <code>ansi_toupper()</code><a class="anchor" aria-label="anchor" href="#ansi_tolower-ansi_toupper"></a>
</h3>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">bench</span><span class="fu">::</span><span class="fu"><a href="http://bench.r-lib.org/reference/mark.html" class="external-link">mark</a></span><span class="op">(</span></span>
<span>  cli_ansi        <span class="op">=</span> <span class="fu"><a href="../reference/ansi_toupper.html">ansi_tolower</a></span><span class="op">(</span><span class="va">ansi</span><span class="op">)</span>,</span>
<span>  base_ansi       <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/chartr.html" class="external-link">tolower</a></span><span class="op">(</span><span class="va">ansi</span><span class="op">)</span>,</span>
<span>  cli_plain       <span class="op">=</span> <span class="fu"><a href="../reference/ansi_toupper.html">ansi_tolower</a></span><span class="op">(</span><span class="va">plain</span><span class="op">)</span>,</span>
<span>  base_plain      <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/chartr.html" class="external-link">tolower</a></span><span class="op">(</span><span class="va">plain</span><span class="op">)</span>,</span>
<span>  cli_vec_ansi    <span class="op">=</span> <span class="fu"><a href="../reference/ansi_toupper.html">ansi_tolower</a></span><span class="op">(</span><span class="va">vec_ansi</span><span class="op">)</span>,</span>
<span>  base_vec_ansi   <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/chartr.html" class="external-link">tolower</a></span><span class="op">(</span><span class="va">vec_ansi</span><span class="op">)</span>,</span>
<span>  cli_vec_plain   <span class="op">=</span> <span class="fu"><a href="../reference/ansi_toupper.html">ansi_tolower</a></span><span class="op">(</span><span class="va">vec_plain</span><span class="op">)</span>,</span>
<span>  base_vec_plain  <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/chartr.html" class="external-link">tolower</a></span><span class="op">(</span><span class="va">vec_plain</span><span class="op">)</span>,</span>
<span>  cli_txt_ansi    <span class="op">=</span> <span class="fu"><a href="../reference/ansi_toupper.html">ansi_tolower</a></span><span class="op">(</span><span class="va">txt_ansi</span><span class="op">)</span>,</span>
<span>  base_txt_ansi   <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/chartr.html" class="external-link">tolower</a></span><span class="op">(</span><span class="va">txt_ansi</span><span class="op">)</span>,</span>
<span>  cli_txt_plain   <span class="op">=</span> <span class="fu"><a href="../reference/ansi_toupper.html">ansi_tolower</a></span><span class="op">(</span><span class="va">txt_plain</span><span class="op">)</span>,</span>
<span>  base_txt_plain  <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/chartr.html" class="external-link">tolower</a></span><span class="op">(</span><span class="va">txt_plain</span><span class="op">)</span>,</span>
<span>  check <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
<pre class="fansi fansi-output"><code><span><span class="co">#&gt; # A tibble: 12 × 6</span></span>
<span><span class="co">#&gt;    expression          min   median `itr/sec` mem_alloc `gc/sec`</span></span>
<span><span class="co">#&gt;    &lt;bch:expr&gt;     &lt;bch:tm&gt; &lt;bch:tm&gt;     &lt;dbl&gt; &lt;bch:byt&gt;    &lt;dbl&gt;</span></span>
<span><span class="co">#&gt;  1 cli_ansi        119.7µs  124.8µs    7931.    11.87KB    14.6 </span></span>
<span><span class="co">#&gt;  2 base_ansi         1.6µs    1.7µs  595092.         0B     0   </span></span>
<span><span class="co">#&gt;  3 cli_plain        95.2µs   99.8µs    9812.     8.73KB    14.6 </span></span>
<span><span class="co">#&gt;  4 base_plain        1.1µs    1.3µs  773046.         0B    77.3 </span></span>
<span><span class="co">#&gt;  5 cli_vec_ansi     5.13ms   5.23ms     191.   838.77KB    23.6 </span></span>
<span><span class="co">#&gt;  6 base_vec_ansi    88.8µs   94.6µs   10497.       848B     0   </span></span>
<span><span class="co">#&gt;  7 cli_vec_plain    2.92ms      3ms     332.    816.9KB    25.2 </span></span>
<span><span class="co">#&gt;  8 base_vec_plain   52.6µs   55.5µs   17949.       848B     0   </span></span>
<span><span class="co">#&gt;  9 cli_txt_ansi    16.66ms  16.76ms      59.6  114.42KB     6.63</span></span>
<span><span class="co">#&gt; 10 base_txt_ansi    94.2µs   96.4µs   10340.         0B     0   </span></span>
<span><span class="co">#&gt; 11 cli_txt_plain   378.4µs  387.8µs    2559.    18.16KB     4.06</span></span>
<span><span class="co">#&gt; 12 base_txt_plain   50.4µs   52.4µs   19118.         0B     0</span></span></code></pre>
</div>
<div class="section level3">
<h3 id="ansi_trimws">
<code>ansi_trimws()</code><a class="anchor" aria-label="anchor" href="#ansi_trimws"></a>
</h3>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">bench</span><span class="fu">::</span><span class="fu"><a href="http://bench.r-lib.org/reference/mark.html" class="external-link">mark</a></span><span class="op">(</span></span>
<span>  cli_ansi        <span class="op">=</span> <span class="fu"><a href="../reference/ansi_trimws.html">ansi_trimws</a></span><span class="op">(</span><span class="va">ansi</span><span class="op">)</span>,</span>
<span>  base_ansi       <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/trimws.html" class="external-link">trimws</a></span><span class="op">(</span><span class="va">ansi</span><span class="op">)</span>,</span>
<span>  cli_plain       <span class="op">=</span> <span class="fu"><a href="../reference/ansi_trimws.html">ansi_trimws</a></span><span class="op">(</span><span class="va">plain</span><span class="op">)</span>,</span>
<span>  base_plain      <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/trimws.html" class="external-link">trimws</a></span><span class="op">(</span><span class="va">plain</span><span class="op">)</span>,</span>
<span>  cli_vec_ansi    <span class="op">=</span> <span class="fu"><a href="../reference/ansi_trimws.html">ansi_trimws</a></span><span class="op">(</span><span class="va">vec_ansi</span><span class="op">)</span>,</span>
<span>  base_vec_ansi   <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/trimws.html" class="external-link">trimws</a></span><span class="op">(</span><span class="va">vec_ansi</span><span class="op">)</span>,</span>
<span>  cli_vec_plain   <span class="op">=</span> <span class="fu"><a href="../reference/ansi_trimws.html">ansi_trimws</a></span><span class="op">(</span><span class="va">vec_plain</span><span class="op">)</span>,</span>
<span>  base_vec_plain  <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/trimws.html" class="external-link">trimws</a></span><span class="op">(</span><span class="va">vec_plain</span><span class="op">)</span>,</span>
<span>  cli_txt_ansi    <span class="op">=</span> <span class="fu"><a href="../reference/ansi_trimws.html">ansi_trimws</a></span><span class="op">(</span><span class="va">txt_ansi</span><span class="op">)</span>,</span>
<span>  base_txt_ansi   <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/trimws.html" class="external-link">trimws</a></span><span class="op">(</span><span class="va">txt_ansi</span><span class="op">)</span>,</span>
<span>  cli_txt_plain   <span class="op">=</span> <span class="fu"><a href="../reference/ansi_trimws.html">ansi_trimws</a></span><span class="op">(</span><span class="va">txt_plain</span><span class="op">)</span>,</span>
<span>  base_txt_plain  <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/trimws.html" class="external-link">trimws</a></span><span class="op">(</span><span class="va">txt_plain</span><span class="op">)</span>,</span>
<span>  check <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
<pre class="fansi fansi-output"><code><span><span class="co">#&gt; # A tibble: 12 × 6</span></span>
<span><span class="co">#&gt;    expression          min   median `itr/sec` mem_alloc `gc/sec`</span></span>
<span><span class="co">#&gt;    &lt;bch:expr&gt;     &lt;bch:tm&gt; &lt;bch:tm&gt;     &lt;dbl&gt; &lt;bch:byt&gt;    &lt;dbl&gt;</span></span>
<span><span class="co">#&gt;  1 cli_ansi         84.4µs   87.5µs    11266.        0B    21.1 </span></span>
<span><span class="co">#&gt;  2 base_ansi        21.6µs   22.7µs    43452.        0B    17.4 </span></span>
<span><span class="co">#&gt;  3 cli_plain        84.4µs   87.5µs    11300.        0B    21.1 </span></span>
<span><span class="co">#&gt;  4 base_plain       21.6µs   22.5µs    43940.        0B    17.6 </span></span>
<span><span class="co">#&gt;  5 cli_vec_ansi    203.9µs  211.2µs     4595.     7.2KB     8.22</span></span>
<span><span class="co">#&gt;  6 base_vec_ansi    88.8µs   96.2µs    10323.    1.66KB     4.05</span></span>
<span><span class="co">#&gt;  7 cli_vec_plain   185.8µs  194.5µs     5040.     7.2KB    10.4 </span></span>
<span><span class="co">#&gt;  8 base_vec_plain   76.9µs   83.7µs    11839.    1.66KB     4.06</span></span>
<span><span class="co">#&gt;  9 cli_txt_ansi      169µs  172.9µs     5731.        0B    10.3 </span></span>
<span><span class="co">#&gt; 10 base_txt_ansi    63.1µs   64.8µs    15340.        0B     8.21</span></span>
<span><span class="co">#&gt; 11 cli_txt_plain     148µs  151.9µs     6525.        0B    10.3 </span></span>
<span><span class="co">#&gt; 12 base_txt_plain   51.2µs   52.3µs    18993.        0B     8.18</span></span></code></pre>
</div>
</div>
<div class="section level2">
<h2 id="utf-8-functions">UTF-8 functions<a class="anchor" aria-label="anchor" href="#utf-8-functions"></a>
</h2>
<div class="section level3">
<h3 id="utf8_nchar">
<code>utf8_nchar()</code><a class="anchor" aria-label="anchor" href="#utf8_nchar"></a>
</h3>
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">bench</span><span class="fu">::</span><span class="fu"><a href="http://bench.r-lib.org/reference/mark.html" class="external-link">mark</a></span><span class="op">(</span></span>
<span>  cli        <span class="op">=</span> <span class="fu"><a href="../reference/utf8_nchar.html">utf8_nchar</a></span><span class="op">(</span><span class="va">uni</span>, type <span class="op">=</span> <span class="st">"chars"</span><span class="op">)</span>,</span>
<span>  base       <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/nchar.html" class="external-link">nchar</a></span><span class="op">(</span><span class="va">uni</span>, <span class="st">"chars"</span><span class="op">)</span>,</span>
<span>  cli_vec    <span class="op">=</span> <span class="fu"><a href="../reference/utf8_nchar.html">utf8_nchar</a></span><span class="op">(</span><span class="va">vec_uni</span>, type <span class="op">=</span> <span class="st">"chars"</span><span class="op">)</span>,</span>
<span>  base_vec   <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/nchar.html" class="external-link">nchar</a></span><span class="op">(</span><span class="va">vec_uni</span>, <span class="st">"chars"</span><span class="op">)</span>,</span>
<span>  cli_txt    <span class="op">=</span> <span class="fu"><a href="../reference/utf8_nchar.html">utf8_nchar</a></span><span class="op">(</span><span class="va">txt_uni</span>, type <span class="op">=</span> <span class="st">"chars"</span><span class="op">)</span>,</span>
<span>  base_txt   <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/nchar.html" class="external-link">nchar</a></span><span class="op">(</span><span class="va">txt_uni</span>, <span class="st">"chars"</span><span class="op">)</span>,</span>
<span>  check <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
<pre class="fansi fansi-output"><code><span><span class="co">#&gt; # A tibble: 6 × 6</span></span>
<span><span class="co">#&gt;   expression      min   median `itr/sec` mem_alloc `gc/sec`</span></span>
<span><span class="co">#&gt;   &lt;bch:expr&gt; &lt;bch:tm&gt; &lt;bch:tm&gt;     &lt;dbl&gt; &lt;bch:byt&gt;    &lt;dbl&gt;</span></span>
<span><span class="co">#&gt; 1 cli          10.2µs   10.8µs    91238.    12.3KB    18.3 </span></span>
<span><span class="co">#&gt; 2 base          999ns    1.1µs   834005.        0B    83.4 </span></span>
<span><span class="co">#&gt; 3 cli_vec      33.6µs   34.8µs    28529.      448B     5.71</span></span>
<span><span class="co">#&gt; 4 base_vec     15.7µs     16µs    62326.      448B     0   </span></span>
<span><span class="co">#&gt; 5 cli_txt      33.5µs   35.6µs    27900.        0B     8.37</span></span>
<span><span class="co">#&gt; 6 base_txt     17.2µs   17.4µs    57092.        0B     0</span></span></code></pre>
<div class="sourceCode" id="cb24"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">bench</span><span class="fu">::</span><span class="fu"><a href="http://bench.r-lib.org/reference/mark.html" class="external-link">mark</a></span><span class="op">(</span></span>
<span>  cli        <span class="op">=</span> <span class="fu"><a href="../reference/utf8_nchar.html">utf8_nchar</a></span><span class="op">(</span><span class="va">uni</span>, type <span class="op">=</span> <span class="st">"width"</span><span class="op">)</span>,</span>
<span>  base       <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/nchar.html" class="external-link">nchar</a></span><span class="op">(</span><span class="va">uni</span>, <span class="st">"width"</span><span class="op">)</span>,</span>
<span>  cli_vec    <span class="op">=</span> <span class="fu"><a href="../reference/utf8_nchar.html">utf8_nchar</a></span><span class="op">(</span><span class="va">vec_uni</span>, type <span class="op">=</span> <span class="st">"width"</span><span class="op">)</span>,</span>
<span>  base_vec   <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/nchar.html" class="external-link">nchar</a></span><span class="op">(</span><span class="va">vec_uni</span>, <span class="st">"width"</span><span class="op">)</span>,</span>
<span>  cli_txt    <span class="op">=</span> <span class="fu"><a href="../reference/utf8_nchar.html">utf8_nchar</a></span><span class="op">(</span><span class="va">txt_uni</span>, type <span class="op">=</span> <span class="st">"width"</span><span class="op">)</span>,</span>
<span>  base_txt   <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/nchar.html" class="external-link">nchar</a></span><span class="op">(</span><span class="va">txt_uni</span>, <span class="st">"width"</span><span class="op">)</span>,</span>
<span>  check <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
<pre class="fansi fansi-output"><code><span><span class="co">#&gt; # A tibble: 6 × 6</span></span>
<span><span class="co">#&gt;   expression      min   median `itr/sec` mem_alloc `gc/sec`</span></span>
<span><span class="co">#&gt;   &lt;bch:expr&gt; &lt;bch:tm&gt; &lt;bch:tm&gt;     &lt;dbl&gt; &lt;bch:byt&gt;    &lt;dbl&gt;</span></span>
<span><span class="co">#&gt; 1 cli          10.1µs   10.7µs    91852.        0B    27.6 </span></span>
<span><span class="co">#&gt; 2 base          1.5µs    1.6µs   599731.        0B     0   </span></span>
<span><span class="co">#&gt; 3 cli_vec      35.5µs   36.6µs    27150.      448B     8.15</span></span>
<span><span class="co">#&gt; 4 base_vec     57.9µs   58.4µs    17095.      448B     0   </span></span>
<span><span class="co">#&gt; 5 cli_txt      35.9µs   36.8µs    27046.        0B     5.41</span></span>
<span><span class="co">#&gt; 6 base_txt    117.1µs  118.9µs     8393.        0B     0</span></span></code></pre>
<div class="sourceCode" id="cb25"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">bench</span><span class="fu">::</span><span class="fu"><a href="http://bench.r-lib.org/reference/mark.html" class="external-link">mark</a></span><span class="op">(</span></span>
<span>  cli        <span class="op">=</span> <span class="fu"><a href="../reference/utf8_nchar.html">utf8_nchar</a></span><span class="op">(</span><span class="va">uni</span>, type <span class="op">=</span> <span class="st">"codepoints"</span><span class="op">)</span>,</span>
<span>  base       <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/nchar.html" class="external-link">nchar</a></span><span class="op">(</span><span class="va">uni</span>, <span class="st">"chars"</span><span class="op">)</span>,</span>
<span>  cli_vec    <span class="op">=</span> <span class="fu"><a href="../reference/utf8_nchar.html">utf8_nchar</a></span><span class="op">(</span><span class="va">vec_uni</span>, type <span class="op">=</span> <span class="st">"codepoints"</span><span class="op">)</span>,</span>
<span>  base_vec   <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/nchar.html" class="external-link">nchar</a></span><span class="op">(</span><span class="va">vec_uni</span>, <span class="st">"chars"</span><span class="op">)</span>,</span>
<span>  cli_txt    <span class="op">=</span> <span class="fu"><a href="../reference/utf8_nchar.html">utf8_nchar</a></span><span class="op">(</span><span class="va">txt_uni</span>, type <span class="op">=</span> <span class="st">"codepoints"</span><span class="op">)</span>,</span>
<span>  base_txt   <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/nchar.html" class="external-link">nchar</a></span><span class="op">(</span><span class="va">txt_uni</span>, <span class="st">"chars"</span><span class="op">)</span>,</span>
<span>  check <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
<pre class="fansi fansi-output"><code><span><span class="co">#&gt; # A tibble: 6 × 6</span></span>
<span><span class="co">#&gt;   expression      min   median `itr/sec` mem_alloc `gc/sec`</span></span>
<span><span class="co">#&gt;   &lt;bch:expr&gt; &lt;bch:tm&gt; &lt;bch:tm&gt;     &lt;dbl&gt; &lt;bch:byt&gt;    &lt;dbl&gt;</span></span>
<span><span class="co">#&gt; 1 cli          11.3µs   11.8µs    84052.        0B     16.8</span></span>
<span><span class="co">#&gt; 2 base          999ns    1.1µs   861178.        0B     86.1</span></span>
<span><span class="co">#&gt; 3 cli_vec      26.4µs   26.9µs    36910.      448B     11.1</span></span>
<span><span class="co">#&gt; 4 base_vec     15.7µs   15.9µs    62627.      448B      0  </span></span>
<span><span class="co">#&gt; 5 cli_txt      27.6µs   28.2µs    34942.        0B     10.5</span></span>
<span><span class="co">#&gt; 6 base_txt     17.2µs   17.6µs    51011.        0B      0</span></span></code></pre>
</div>
<div class="section level3">
<h3 id="utf8_substr">
<code>utf8_substr()</code><a class="anchor" aria-label="anchor" href="#utf8_substr"></a>
</h3>
<div class="sourceCode" id="cb26"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">bench</span><span class="fu">::</span><span class="fu"><a href="http://bench.r-lib.org/reference/mark.html" class="external-link">mark</a></span><span class="op">(</span></span>
<span>  cli        <span class="op">=</span> <span class="fu"><a href="../reference/utf8_substr.html">utf8_substr</a></span><span class="op">(</span><span class="va">uni</span>, <span class="fl">2</span>, <span class="fl">10</span><span class="op">)</span>,</span>
<span>  base       <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/substr.html" class="external-link">substr</a></span><span class="op">(</span><span class="va">uni</span>, <span class="fl">2</span>, <span class="fl">10</span><span class="op">)</span>,</span>
<span>  cli_vec    <span class="op">=</span> <span class="fu"><a href="../reference/utf8_substr.html">utf8_substr</a></span><span class="op">(</span><span class="va">vec_uni</span>, <span class="fl">2</span>, <span class="fl">10</span><span class="op">)</span>,</span>
<span>  base_vec   <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/substr.html" class="external-link">substr</a></span><span class="op">(</span><span class="va">vec_uni</span>, <span class="fl">2</span>, <span class="fl">10</span><span class="op">)</span>,</span>
<span>  cli_txt    <span class="op">=</span> <span class="fu"><a href="../reference/utf8_substr.html">utf8_substr</a></span><span class="op">(</span><span class="va">txt_uni</span>, <span class="fl">2</span>, <span class="fl">10</span><span class="op">)</span>,</span>
<span>  base_txt   <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/substr.html" class="external-link">substr</a></span><span class="op">(</span><span class="va">txt_uni</span>, <span class="fl">2</span>, <span class="fl">10</span><span class="op">)</span>,</span>
<span>  check <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
<pre class="fansi fansi-output"><code><span><span class="co">#&gt; # A tibble: 6 × 6</span></span>
<span><span class="co">#&gt;   expression      min   median `itr/sec` mem_alloc `gc/sec`</span></span>
<span><span class="co">#&gt;   &lt;bch:expr&gt; &lt;bch:tm&gt; &lt;bch:tm&gt;     &lt;dbl&gt; &lt;bch:byt&gt;    &lt;dbl&gt;</span></span>
<span><span class="co">#&gt; 1 cli           7.9µs    8.5µs   116749.    21.1KB    35.0 </span></span>
<span><span class="co">#&gt; 2 base          1.1µs    1.3µs   774609.        0B     0   </span></span>
<span><span class="co">#&gt; 3 cli_vec      40.2µs   41.9µs    23797.     1.7KB     7.14</span></span>
<span><span class="co">#&gt; 4 base_vec      9.6µs    9.9µs   100334.      848B     0   </span></span>
<span><span class="co">#&gt; 5 cli_txt       7.8µs    8.5µs   114175.        0B    22.8 </span></span>
<span><span class="co">#&gt; 6 base_txt      7.4µs    7.6µs   128695.        0B    12.9</span></span></code></pre>
</div>
</div>
<div class="section level2">
<h2 id="session-info">Session info<a class="anchor" aria-label="anchor" href="#session-info"></a>
</h2>
<div class="sourceCode" id="cb27"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">sessioninfo</span><span class="fu">::</span><span class="fu"><a href="https://r-lib.github.io/sessioninfo/reference/session_info.html" class="external-link">session_info</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<pre class="fansi fansi-output"><code><span><span class="co">#&gt; ─ Session info ─────────────────────────────────────────────────────────</span></span>
<span><span class="co">#&gt;  setting  value</span></span>
<span><span class="co">#&gt;  version  R version 4.2.1 (2022-06-23)</span></span>
<span><span class="co">#&gt;  os       Ubuntu 20.04.5 LTS</span></span>
<span><span class="co">#&gt;  system   x86_64, linux-gnu</span></span>
<span><span class="co">#&gt;  ui       X11</span></span>
<span><span class="co">#&gt;  language en</span></span>
<span><span class="co">#&gt;  collate  C.UTF-8</span></span>
<span><span class="co">#&gt;  ctype    C.UTF-8</span></span>
<span><span class="co">#&gt;  tz       UTC</span></span>
<span><span class="co">#&gt;  date     2022-10-08</span></span>
<span><span class="co">#&gt;  pandoc   2.14.2 @ /usr/bin/ (via rmarkdown)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; ─ Packages ─────────────────────────────────────────────────────────────</span></span>
<span><span class="co">#&gt;  package     * version    date (UTC) lib source</span></span>
<span><span class="co">#&gt;  bench         1.1.2      2021-11-30 [1] RSPM</span></span>
<span><span class="co">#&gt;  bslib         0.4.0      2022-07-16 [1] RSPM</span></span>
<span><span class="co">#&gt;  cachem        1.0.6      2021-08-19 [1] RSPM</span></span>
<span><span class="co">#&gt;  cli         * 3.4.1.9000 2022-10-08 [1] local</span></span>
<span><span class="co">#&gt;  codetools     0.2-18     2020-11-04 [2] CRAN (R 4.2.1)</span></span>
<span><span class="co">#&gt;  desc          1.4.2      2022-09-08 [1] RSPM</span></span>
<span><span class="co">#&gt;  digest        0.6.29     2021-12-01 [1] RSPM</span></span>
<span><span class="co">#&gt;  evaluate      0.16       2022-08-09 [1] RSPM</span></span>
<span><span class="co">#&gt;  fansi       * 1.0.3      2022-03-24 [1] RSPM</span></span>
<span><span class="co">#&gt;  fastmap       1.1.0      2021-01-25 [1] RSPM</span></span>
<span><span class="co">#&gt;  fs            1.5.2      2021-12-08 [1] RSPM</span></span>
<span><span class="co">#&gt;  glue          1.6.2      2022-02-24 [1] RSPM</span></span>
<span><span class="co">#&gt;  htmltools     0.5.3      2022-07-18 [1] RSPM</span></span>
<span><span class="co">#&gt;  jquerylib     0.1.4      2021-04-26 [1] RSPM</span></span>
<span><span class="co">#&gt;  jsonlite      1.8.2      2022-10-02 [1] RSPM</span></span>
<span><span class="co">#&gt;  knitr         1.40       2022-08-24 [1] RSPM</span></span>
<span><span class="co">#&gt;  lifecycle     1.0.2      2022-09-09 [1] RSPM</span></span>
<span><span class="co">#&gt;  magrittr      2.0.3      2022-03-30 [1] RSPM</span></span>
<span><span class="co">#&gt;  memoise       2.0.1      2021-11-26 [1] RSPM</span></span>
<span><span class="co">#&gt;  pillar        1.8.1      2022-08-19 [1] RSPM</span></span>
<span><span class="co">#&gt;  pkgconfig     2.0.3      2019-09-22 [1] RSPM</span></span>
<span><span class="co">#&gt;  pkgdown       2.0.6      2022-07-16 [1] any (@2.0.6)</span></span>
<span><span class="co">#&gt;  profmem       0.6.0      2020-12-13 [1] RSPM</span></span>
<span><span class="co">#&gt;  purrr         0.3.5      2022-10-06 [1] RSPM</span></span>
<span><span class="co">#&gt;  R6            2.5.1      2021-08-19 [1] RSPM</span></span>
<span><span class="co">#&gt;  ragg          1.2.3      2022-09-29 [1] RSPM</span></span>
<span><span class="co">#&gt;  rlang         1.0.6      2022-09-24 [1] RSPM</span></span>
<span><span class="co">#&gt;  rmarkdown     2.16       2022-08-24 [1] RSPM</span></span>
<span><span class="co">#&gt;  rprojroot     2.0.3      2022-04-02 [1] RSPM</span></span>
<span><span class="co">#&gt;  sass          0.4.2      2022-07-16 [1] RSPM</span></span>
<span><span class="co">#&gt;  sessioninfo   1.2.2      2021-12-06 [1] RSPM</span></span>
<span><span class="co">#&gt;  stringi       1.7.8      2022-07-11 [1] RSPM</span></span>
<span><span class="co">#&gt;  stringr       1.4.1      2022-08-20 [1] RSPM</span></span>
<span><span class="co">#&gt;  systemfonts   1.0.4      2022-02-11 [1] RSPM</span></span>
<span><span class="co">#&gt;  textshaping   0.3.6      2021-10-13 [1] RSPM</span></span>
<span><span class="co">#&gt;  tibble        3.1.8      2022-07-22 [1] RSPM</span></span>
<span><span class="co">#&gt;  utf8          1.2.2      2021-07-24 [1] RSPM</span></span>
<span><span class="co">#&gt;  vctrs         0.4.2      2022-09-29 [1] RSPM</span></span>
<span><span class="co">#&gt;  xfun          0.33       2022-09-12 [1] RSPM</span></span>
<span><span class="co">#&gt;  yaml          2.3.5      2022-02-21 [1] RSPM</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;  [1] /home/runner/work/_temp/Library</span></span>
<span><span class="co">#&gt;  [2] /opt/R/4.2.1/lib/R/library</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; ────────────────────────────────────────────────────────────────────────</span></span></code></pre>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



   </div>
  <footer><div class="container">
  <div class="pkgdown-footer-left">
  <p></p>
<p>Developed by <a href="https://github.com/gaborcsardi" class="external-link">Gábor Csárdi</a>, <a href="https://www.rstudio.com" class="external-link"><img src="https://www.tidyverse.org/rstudio-logo.svg" alt="RStudio" width="72"></a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

  </div></footer>
</body>
</html>
